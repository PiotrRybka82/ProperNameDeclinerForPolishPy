# Reguly rozpoznawania jezykow
Languages = {}

# Angielski
en = ['anthony', 'anthony', 'rocky', 'rocky', 'willy', 'willy', 'john', 'john', "dge ", 	"ed ", 	"er ", 	"gm ", 	"mn ", 'new',	"re ", 	'son', "ssi", 	"tch", 	"ar", 	"ay", 	"bb", 	"cc", 	"ce", 	"ck", 	"dd", 	"e ", 	"ee", 	"ey", 	"ff", 	"gg", 	"gh", 	"gn", 	"gu", 	"kk", 	"kn", 	"ld", 	"ll", 	"mm", 	"ng", 	"nn", 	"oo", "oy", 	"pp", 	"rr",  'ry',	"sc", 	"sh", 	"ss", 	"st", 	"sw", 	"th", 	"ti", 	"tt", 	"wh", 	"wr", 	"zz", 	"x"]
Languages['en'] = en

# Francuski
fr = ["ille", 	"oine", 	"aim", 	"ain", 	'de ', "eau", 	"ien", 	"oeu", 	"oin", 	"oui", 	"ai", 	"au", 	"ay", 	"ch", 	"e ", 	"ei", 'es ', 	"eu", 	"ez", 	"gn", 	"ie", 	'll', "oi", 	"ou", 	"qu", 	"ss", 	"th", 	"ti", 	"ui", 	"yn", 	"à", 	"â", 	"ç", 	"é", 	"è", 	"ê", 	"ô", 	"q", 	"v", 	"x"]
Languages['fr'] = fr

# Niemiecki (i inne germanskie bez angielskiego)
ge = ['voit', 'voit', 'voit', 'erik', 'erik', 'erik', 'rilke', 'rilke', 'rilke', 'wende', 'wende', 'wende', "tsch", 'hans', 'hans', 'hans',	"von ", 	"chs", 	"el ", 	"elm", 	"ich", 	"ig ", 	"man", 	"ng ", 	"sch", 	"aa", 	"ae", 	"ah", 	"äh", 	"ai", 	"au", 	"äu", 	"ch", 	"ee", 	"eh", 	"ei", 	"er", 	"eu", 	"ff", 	"ie", 	"ih", 	'iz', "lh", 	"ll", 	"nz",  	"oh", 	"öh", 	"oo", 	"sp", 	"ss", 	"st", 	'tt', "tz", 	"uh", 	"üh", 	"ä", 	"ö", 	"ß", 	"ü", 	"v", 	"x"]
Languages['ge'] = ge

# Wegierski
hu = ['horthy', "dzs", 	"cs", 	"gy", 	"ly", 	"ny", 	"sz", 	"zs", 	"á", 	"é", 	"í", 	"ö", 	"õ", 	"ő", 	"ó", 	"ú", 	"ü", 	"ű", 	"v", 	"y"]
Languages['hu'] = hu

# Wloski
it = ['ifigenia','ifigenia', 'virgnia', 'virginia', 'wirginia', 'wirginia', 'herminia', 'herminia',  'matteo', 'matteo', 'dante', 'dante',  "gli", 'ico', 	"bb", 	"cc", 'ce',	"ch", 	"dd", 	"ff", 	"gg", 	"gh", 	"gl", 	"gn", 	"ll", 	"mm", 	"nn", 	"pp", 	"rr", 	"sc", 	"ss", 	"tt", 	"vv", 	"zi", 'zo', 	"zz", 	"à", 	"è", 	"h", 	"ì", 	"ò", 	"q", 	"ù", 	"v"]
Languages['it'] = it

# Portugalski
po = ['silva', 'silva', 'silva', 'calves', 'calves', 'calves', "am ", 	"âm ", 	"an ", 	"ân ", 'de ', 	"em ", 	"ém ", 	"êm ", 	"en ", 	"én ", 	"ên ", 'es ', 	"im ", 	"ím ", 	"in ", 	"ín ", 'nha', 	"om ", 	"ôm ", 	"on ", 	"ôn ", 	"um ", 	"úm ", 	"un ", 	"ún ", 	"ãe", 	"ai", 	"ái", 	"ãi", 	"au", 	"áu", 	"ch", 	"ei", 	"éi", 	"êi", "eu", 	"éu", 	"êu", 	"gu", 	"iu", 	"lh", 	"nh", 	"õe", 	"oi", 	"ou", 	"ói", 	"óu", 	"qu", 	"rr", 	"ss", 	"ui", 	"á", 	"à", 	"â", 	"ã", 	"ç", 	"é", 	"ê", 	"í", 	"ô", 	"õ", 	"ó", 	"ú"]
Languages['po'] = po

# Slowianskie
slav = ["ania", "nania", "unia", "wnia", "bochnia", "inia", "ynia", "bronia", "lnia", "rnia", "chłodnia", "ciemnia", "drążnia", "drwinia", "frania", "gdynia", "genia", "gienia", "hania", "henia", "jadwinia", "jedlnia", "jeleśnia", "kcynia", "kinia", "lonia", "małkinia", "miękinia", "miśnia", "monia", "polunia", "renia", "ronia", "rynia", "rząśnia", "sonia", "stenia", "świedziebnia", "terenia", "trzebinia", "wieczfnia", "wisznia", "witonia", "września", "ksenia", "xenia", "żenia", "żołynia", 'gawle', 'gawle', 'budionny', 'budionny', 'batory', 'batory', 'walezy', 'walezy', 'ovicz ', 'owicz ', 'ović ', "sław", 'lato', 'icz ', "aja", 	"ak ", 	"dzi", 	"dzk", 'ić ',	 	"ec ", 	"ek ", 	"icz", 	"ij ", 	"ycz", 	"yj ", 	"ch", 	"ci", 	"ck", 	"cz", 'cz',	"d'", 	"dz", 	"dž", 	"dź", 	"dż", 	"ew", 	"in", 	"l'", 	"lj",  	"nj", 'na', 'ne', 'ny', 	"oj", 	"ow", "rz", 'rz'	"si", 	"sk", 	"sz", 'sz',	"t'", 	"yn", 	"zi", 	"á", 	"ä", 	"ą", 	"č", 	"ć", 	"ď", 	"đ", 	"é", 	"ě", 	"ę", 	"h", 	"í", 	"ĺ", 	"ľ", 	"ł", 	"ł", "ł","ň", 	"ń", 	"ô", 	"ó", 	"ŕ", 	"ř", 	"š", 	"ś", 	"ť", 	"ú", 	"ů", 	"ý", 	"ž", 	"ź", "ż", "ż",	"ż"]
Languages['slav'] = slav

# Hiszpanski
sp = [ 'donny', 'donny', 'donny', 'donny', 'donny',  'donny',  'garcia', 'garcia', 'garcia', 'gonzález', 'gonzález', 'gonzález', 'javier', 'javier', 'javier', 'alonso', 'alonso', 'alonso', 'josé', 'josé', 'josé', 'enrique', 'enrique', 'enrique',  'martínez', 'martínez', 'martínez', 'miguel', 'miguel', 'miguel', 'fernandez', 'fernandez', 'fernandez', 'llanos', 'llanos', 'llanos', 'carles', 'carles', 'carles', 'filipe', 'filipe', 'filipe', 'pérez', 'pérez', 'pérez',  'de ', "ch",	"gu", 	"gü", 	"hi", 	"hu", 	"ll", 	"qu", 	"rr", 	"ñ", 	"x"]
Languages['sp'] = sp

# Turecki
tu = ["ç", 	"ǧ", 	"ı", 	"ö", 	"ş", 	"ü", 	"v", 	"y"]
Languages['tu'] = tu

# Grecki
gr = ['kles ', 'kles ', 'kles ', 'ates ', 'ates ', 'ates ']
Languages['gr'] = gr


# Inne języki
other = ['pilia', 'soso', 'nyambe']
Languages['other'] = other

# Funkcja liczaca wystapiena liter i ich polaczen w formie wejsciowej (form)
# UWAGA: funkcja liczy wystapienia liter ilekroc sie pojawia w zbiorze
# Jesli w zbiorze kilka liter/polaczen liter sie powtarza, funkcja tylekroc policzy punkty
# Jest to przydatne w przypadku liter/polaczen liter typowych dla danego jezyka
# - powinny one spowodowac przypisanie formie wiekszej liczby punktow i wskazanie danego jezyka
# Do regul rozpoznawania jezyka mozna wpisywac wstepnie rozpoznane imiona/nazwiska/czesci imion/nazwisk
# W regulach litery/grupy liter sa ulozone alfabetcznie, co nie jest konieczne (ulatwia jedynie znalezienie szukanych liter)
def Count(form, graphemes):
    
    counter = 0

    base = len(form)    

    form = form + ' '

    for grapheme in graphemes:

        if form.replace(grapheme, '') != form:
            counter = counter + 1    
    
    if base > 0:
        return counter/base
    else:
        return 0

# Wlasciwa funkcja okreslajaca jezyk
def Language(full_name):

    # zamien wielkie litery na male
    full_name = full_name.lower()

    marks = []
    names = []

    # przejrzyj klucze w zbiorze jezykow (oznaczenia jezykow)
    for key in Languages:
        # utworz liste kluczy (oznaczen jezykow)
        names.append(key)

        # utworz liste punktow dla kazdego jezyka
        marks.append(Count(full_name, Languages[key]))

    # ustal maksymalna liczbe punktow
    m = max(marks)

    # ustal indeks maksymalnej liczby punktow
    i = marks.index(m)

    # zwroc oznaczenie jezyka z listy oznaczen jezykow o indeksie rownym indeksowi maksimum punktow
    return names[i]


